<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
    <xi:include href="/META-INF/android-kotlin.common.xml" xpointer="xpointer(/idea-plugin/*)"/>
    <xi:include href="/META-INF/android-kotlin.k1.xml" xpointer="xpointer(/idea-plugin/*)" includeUnless="idea.kotlin.plugin.use.k2"/>

    <extensions defaultExtensionNs="com.intellij">
        <externalAnnotator language="kotlin" implementationClass="org.jetbrains.kotlin.android.AndroidKotlinResourceExternalAnnotator" />

        <localInspection implementationClass="org.jetbrains.kotlin.android.inspection.TypeParameterFindViewByIdInspection"
                         displayName="Cast can be converted to findViewById with type parameter"
                         groupName="Kotlin Android"
                         enabledByDefault="true"
                         cleanupTool="true"
                         level="WEAK WARNING"
                         language="kotlin" />

        <intentionAction>
            <language>kotlin</language>
            <className>org.jetbrains.kotlin.android.intention.KotlinAndroidAddStringResource</className>
            <category>Kotlin Android</category>
        </intentionAction>

        <intentionAction>
            <language>kotlin</language>
            <className>org.jetbrains.kotlin.android.intention.AddActivityToManifest</className>
            <category>Kotlin Android</category>
        </intentionAction>

        <intentionAction>
            <language>kotlin</language>
            <className>org.jetbrains.kotlin.android.intention.AddServiceToManifest</className>
            <category>Kotlin Android</category>
        </intentionAction>

        <intentionAction>
            <language>kotlin</language>
            <className>org.jetbrains.kotlin.android.intention.AddBroadcastReceiverToManifest</className>
            <category>Kotlin Android</category>
        </intentionAction>

        <codeInsight.unresolvedReferenceQuickFixProvider
            implementation="org.jetbrains.kotlin.android.inspection.KotlinAndroidResourceQuickFixProvider"
            includeUnless="idea.kotlin.plugin.use.k2"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <quickFixContributor implementation="org.jetbrains.kotlin.android.quickfix.AndroidQuickFixRegistrar"/>

        <codeinsight.quickfix.registrar implementation="org.jetbrains.kotlin.android.inspection.KotlinAndroidResourceQuickFixRegistrarK2"
                                        includeIf="idea.kotlin.plugin.use.k2"/>
    </extensions>

    <extensions defaultExtensionNs="com.android.tools.idea.lint.common">
        <lintQuickFixProvider implementation="org.jetbrains.kotlin.android.quickfix.KotlinAndroidQuickFixProvider" />
    </extensions>
</idea-plugin>
